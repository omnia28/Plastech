{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="{% static 'css/blogs/style.css' %}" />
    <style>
      a,
      button,
      input,
      select,
      h1,
      h2,
      h3,
      h4,
      h5,
      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
        border: none;
        text-decoration: none;
        background: none;
        -webkit-font-smoothing: antialiased;
      }
      
      menu,
      ol,
      ul {
        list-style-type: none;
        margin: 0;
        padding: 0;
      }
    </style>
    <link rel="icon" href="{% static 'image/home/logo2.png' %}" type="image/png" />
    <title>Blogs</title>
  </head>
  <body>
    <div class="blogs">
      <div class="header">
        <div class="header2">
          <div class="frame-52">
            <div class="logo2">
              <div class="frame-53">
                <div class="header3">
                  <div class="frame-51">
                    <div class="frame-49">
                      <div class="nav">
                        <div class="nav2">
                          <a href="{% url 'home' %}" class="home">Home</a>
                          <a href="{% url 'select_sensor' %}" class="results2">Results</a>
                          <a href="{% url 'blogs' %}" class="blogs3">Blogs</a>
                          <a href="{% url 'products' %}" class="our-products">Products</a>
                          <a href="{% url 'about' %}" class="about">About</a>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div>
                    {% if user.is_authenticated %}
                      <div class="sign-up2">
                        <div class="frame-83">
                          <div class="frame-801">
                            <div class="frame-81">
                              <div class="vuesax-linear-profile-circle2">
                                <a href="{% url 'user_profile' %}"><img class="profile-circle" src="{% static 'image/products/profile-circle0.svg' %}" /></a>
                                <div class="account-name">{{ user.username }}</div>
                              </div>
                              <div class="dropdown-container">
                              <div class="arrow-down" onclick="toggleDropdown()">
                                <img class="vuesax-bold-arrow-down" src="{% static 'image/products/vuesax-bold-arrow-down0.svg' %}" />
                              </div>
                              <div id="dropdown-menu" class="dropdown-menu">
                                <a href="{% url 'logout' %}">Logout</a>
                              </div>
                            </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    {% else %}
                      <div class="sign-up">
                        <div class="button">
                          <a href="{% url 'register' %}" class="button2">Sign Up</a>
                        </div>
                      </div>
                    {% endif %}
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="logo3">
            <div class="frame-492">
              <div class="frame-50">
                <div class="frame-47">
                  <div class="frame-48">
                    <a href="{% url 'home' %}"><img class="logo4" src="{% static 'image/blogs/logo3.png' %}" /></a>
                    <a href="{% url 'home' %}"><img class="logo-text2" src="{% static 'image/blogs/logo-text1.png' %}" /></a>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="about-us-section">
        <img class="about2" src="{% static 'image/blogs/about1.png' %}" />
        <div class="frame-85"></div>
        <div class="our-blog">Our Blog</div>
      </div>

      <div class="frame-88">
        {% for article in articles %}
          <div class="blog-card">
            <div class="frame-72">
              {% if article.urlToImage %}
                <a href="{{ article.url }}" target="_blank"><img class="image-1" src="{{ article.urlToImage }}" alt="{{ article.title }}" onerror="this.onerror=null; this.src='path/to/default-image.png';" /></a>
              {% else %}
                <a href="{{ article.url }}" target="_blank"><img src="{% static 'image/blogs/logo3.png' %}" style="background-color: white; object-fit: contain; width: 100%; height: 100%;" /></a>
              {% endif %}
            </div>
            <div class="frame-77">
              <div class="ai-revolution-in-water-sustainability">{{ article.title }}</div>
              <div class="frame-76">
                <div class="frame-78">
                  <div class="the-intersection-of-artificial-intelligence-ai-and-water-sustainability">
                    {% if article.description %}
                      {{ article.description|truncatechars:100 }}
                    {% endif %}
                  </div>
                  <div class="frame-79">
                    <div class="read-more">
                      <a href="{{ article.url }}" target="_blank">Read more</a>
                    </div>
                    <div class="line-arrow-right">
                      <img class="vuesax-linear-arrow-right" src="{% static 'image/blogs/vuesax-linear-arrow-right0.svg' %}" />
                    </div>
                  </div>
                </div>
                <div class="frame-74">
                  <div class="frame-73">
                    <div class="joe-gerlad">{{ article.source.name }}</div>
                    <div class="_20-jan-2025">{{ article.publishedAt }}</div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        {% endfor %}
        <div class="pagination">
          <span class="step-links">
            {% if articles.has_previous %}
              <a href="?page=1">&laquo; first</a>
              <a href="?page={{ articles.previous_page_number }}">previous</a>
            {% endif %}

            <span class="current">Page {{ articles.number }} of {{ articles.paginator.num_pages }}</span>

            {% if articles.has_next %}
              <a href="?page={{ articles.next_page_number }}">next</a>
              <a href="?page={{ articles.paginator.num_pages }}">last &raquo;</a>
            {% endif %}
          </span>
        </div>
      </div>

      <div class="footer">
        <div class="frame-54">
          <div class="frame-45">
            <div class="frame-41">
              <div class="contact-usct">
                <span>
                  <span class="contact-usct-span">CONTACT US</span>
                  <span class="contact-usct-span2">CT</span>
                </span>
              </div>
              <div class="frame-40">
                <div class="frame-39">
                  <div class="call">
                    <img class="vuesax-linear-call" src="{% static 'image/blogs/vuesax-linear-call0.svg' %}" />
                  </div>
                  <div class="_201276003504">+201276003504</div>
                </div>
                <div class="frame-38">
                  <div class="location">
                    <img class="vuesax-bold-location" src="{% static 'image/blogs/vuesax-bold-location0.svg' %}" />
                  </div>
                  <div class="alexandria-egypt">Alexandria , Egypt</div>
                </div>
              </div>
            </div>
            <div class="frame-44">
              <div class="follow-us">Follow Us:</div>
              <div class="frame-42">
                <img class="linkedin" src="{% static 'image/blogs/linkedin0.svg' %}" />
                <img class="facebook" src="{% static 'image/blogs/facebook0.svg' %}" />
                <img class="instagram" src="{% static 'image/blogs/instagram0.svg' %}" />
                <img class="twitter" src="{% static 'image/blogs/twitter0.svg' %}" />
              </div>
            </div>
          </div>
          <div class="frame-46">
            <div>
              <a href="{% url 'about' %}" class="about-us">About</a>
            </div>
            <a href="{% url 'blogs' %}" class="blogs2">Blogs</a>
            <a href="{% url 'select_sensor' %}" class="results">Results</a>
            <div>
              <a href="{% url 'contact' %}" class="contact-us">Contact</a>
            </div>
          </div>
        </div>
        <img class="logo" src="{% static 'image/blogs/logo0.png' %}" />
        <img class="logo-text" src="{% static 'image/blogs/logo-text0.png' %}" />
        <div class="together-for-cleaner-waters">Together for Cleaner Waters.</div>
      </div>
    </div>
    <script>
      function toggleDropdown() {
        const menu = document.getElementById('dropdown-menu')
        if (menu.style.display === 'block') {
          menu.style.display = 'none'
        } else {
          menu.style.display = 'block'
        }
      }
      
      document.addEventListener('click', function (event) {
        const dropdown = document.getElementById('dropdown-menu')
        const arrow = document.querySelector('.arrow-down')
        if (!arrow.contains(event.target) && !dropdown.contains(event.target)) {
          dropdown.style.display = 'none'
        }
      })
    </script>
  </body>
</html>
